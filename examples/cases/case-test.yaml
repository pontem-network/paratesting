%YAML 1.2
---
logging: debug

setup:
  # launch:
  #   pwd: ./nodes
  #   cfg: launch-config.json
  #   success:
  #     wait:
  #       stdout: "ðŸš€ POLKADOT LAUNCH COMPLETE ðŸš€"
  #       secs: 120
  connect:
    nodes:
      - name: Pontem
        port: 9946
        log-file: 9946.log
        runtime: pontem
      - name: Alice
        port: 9944
        log-file: alice.log
        runtime: rococo
      - name: Bob
        port: 9945
        runtime: rococo

tests:
  - name: simple balance
    steps:
      - name: test call
        nodes:
          - Pontem
        call:
          method: tx.balances.transfer
          args:
            - //Bob
            - 10000
          signer: //Alice
        success:
          events: Balances::Transfer
          # result:
          #   nonce: 0
          #   data.free: 10.0000 kUnit

      - name: test call 2
        nodes:
          - Pontem
          # - Bob
        # rpc:
        #   method: state_getMetadata
        #   args: []
        call:
          method: tx.balances.transfer
          args:
            - //Bob
            - 10000
          signer: //Alice
        success:
          result:
            nonce: 0
            data.free: 10.0000 kUnit
